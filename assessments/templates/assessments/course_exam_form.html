{% extends 'base.html' %}
{% block title %}Mock Exam: {{ exam.course.subject }} - Akili{% endblock %}
{% block page_title %}Mock Exam{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto py-8 px-4">
  <div class="card">
    <div class="mb-6 pb-4 border-b border-gray-200 dark:border-gray-700">
      <h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2">
        {% if exam.course.school_level %}{{ exam.course.school_level.name }}{% endif %} {{ exam.course.subject }} - Mock Exam
      </h1>
      <p class="text-gray-600 dark:text-gray-400">{{ exam.total_questions }} questions covering all topics</p>
      <div class="mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg">
        <p class="text-sm text-yellow-800 dark:text-yellow-200">
          <strong>Important:</strong> This exam counts toward your term grade (60%). Answer all questions carefully.
        </p>
      </div>
    </div>

    <form method="post" action="{% url 'assessments:course_exam_detail' exam_id=exam.id %}">
      {% csrf_token %}
      
      <div class="space-y-8">
        {% for question in questions %}
        <div class="p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
          <p class="font-semibold text-gray-900 dark:text-gray-100 mb-4">
            <span class="text-primary-600 dark:text-primary-400">Q{{ forloop.counter }}.</span> {{ question.question }}
          </p>
          
          <div class="space-y-2">
            {% for option in question.options %}
            <label class="flex items-center p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:border-primary-500 cursor-pointer transition">
              <input type="radio" name="q_{{ forloop.parentloop.counter0 }}" value="{{ forloop.counter0 }}" class="mr-3 text-primary-600 focus:ring-primary-500" required>
              <span class="text-gray-800 dark:text-gray-200">{{ option }}</span>
            </label>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
      </div>
      
      <div class="mt-8 pt-4 border-t border-gray-200 dark:border-gray-700">
        <button type="submit" class="w-full btn-primary py-3 text-lg font-semibold">
          Submit Exam
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
